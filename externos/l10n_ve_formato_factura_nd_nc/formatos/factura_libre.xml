<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <data> 
  <record id="paperformat_forma_libre" model="report.paperformat">

      <field name="header_line" eval="False"/>
            <field name="name">A4 Factura Forma Libre igtf</field>
            <field name="default" eval="True"/>
            <field name="format">custom</field>
            <field name="page_height">300</field>
            <field name="page_width">240</field>
            <field name="orientation">Portrait</field>
            <field name="margin_top">40</field>
            <field name="margin_bottom">10</field>
            <field name="margin_left">2</field>
            <field name="margin_right">2</field>
            <field name="header_spacing">0</field>
            <field name="dpi">96</field>
    </record>

    <template id="report_invoice_with_payments_copy">
            <t t-call="web.html_container">
              <t t-call="web.basic_layout" >
               <div class="page">
              <div class="container">
            <table width="100%">


              <!--formato factura  -->
            
              <tr style="font-size:15px;">

                 <t t-if="docs.move_type== 'out_invoice' ">

                   <tr style="font-size:15px;">
                      <td colspan="4" align="right"><strong>Factura Nº:&amp;nbsp;<t t-esc="docs.invoice_number_next"/></strong></td>
                      
                    
                  </tr> 
                  <br/>


                  <tr style="font-size:15px;" height="20%">
                      <td align="left" ><strong>Paracotos :</strong></td>
                      <td  align="left" ><t t-esc="docs.formato_fecha(docs.invoice_date)"/></td>

                      <td  align="right"><strong>Caracas Telfn:</strong></td>
                      <td  align="right"><t t-esc="docs.company_id.phone"/></td>
                    
                  </tr> 

                   <tr style="font-size:15px;">
                      <td align="left" ><strong>Señores :</strong></td>
                      <td  align="left" ><t t-esc="docs.partner_id.name"/></td>

                      <td  align="right"><strong>E-mail:</strong></td>
                      <td  align="right"><t t-esc="docs.company_id.email"/></td>
    
                  </tr> 

                  <tr style="font-size:15px;">
                      <td align="left" ><strong>R.I.F Nº:</strong></td>
                      <td align="left" ><t t-esc="docs.doc_cedula(docs.partner_id.id)"/></td>

                     <td  align="right"><strong>Orden de Compra:</strong></td>
                    <td  align="right"><t t-esc="docs.buys_name"/></td> 
                  </tr>

                   <tr style="font-size:15px;">
                        <td align="left" ><strong>Teléfonos:</strong></td>
                        <td align="left" ><t t-esc="docs.partner_id.phone"/></td>

                     
                      <td  align="right"><strong>Nota de Entrega:</strong></td>
                      <td  align="right"><t t-esc="docs.invoice_origin"/></td>
                   
                  </tr> 

                    <tr style="font-size:15px;">
                      <td  align="left"><strong>E-mail:</strong></td>
                      <td  align="left"><t t-esc="docs.partner_id.email"/></td> 

                  
                   
                  </tr>

                  <tr style="font-size:15px;">
                      <td  align="left"><strong>Esquema de Pago:</strong></td>
                      <td  align="left"><t t-esc="docs.invoice_payment_term_id.name"/></td> 

                  
                   
                  </tr>



                  <tr style="font-size:15px;">
                   
                       <td align="left"><strong>Dirección Fiscal:</strong></td>
                       <td align="left" ><t t-esc="docs.partner_id.street"/>;<t t-esc="docs.partner_id.street2"/></td>
                  </tr>
              </t>



            <!--Formato de Nota de credito -->
            <t t-elif="docs.move_type== 'out_refund' ">

                 <tr style="font-size:15px;">
                      <td colspan="4" align="right"><strong>Nota de Credito:&amp;nbsp;<t t-esc="docs.invoice_number_next"/></strong></td>
                    
                    
                  </tr> 

                   <tr style="font-size:15px;">
                      <td colspan="4" align="right"><strong>Factura Afectada nº:&amp;nbsp;<t t-esc="docs.reason"/></strong></td>
                    
                  </tr> 

                   <br/>


                  <tr style="font-size:15px;" height="20%">
                      <td align="left" ><strong>Paracotos :</strong></td>
                      <td  align="left" ><t t-esc="docs.formato_fecha(docs.invoice_date)"/></td>

                      <td  align="right"><strong>Caracas Telfn:</strong></td>
                      <td  align="right"><t t-esc="docs.company_id.phone"/></td>
                    
                  </tr> 

                   <tr style="font-size:15px;">
                      <td align="left" ><strong>Señores :</strong></td>
                      <td  align="left" ><t t-esc="docs.partner_id.name"/></td>

                      <td  align="right"><strong>E-mail:</strong></td>
                      <td  align="right"><t t-esc="docs.company_id.email"/></td>
    
                  </tr> 

                  <tr style="font-size:15px;">
                     <td align="left" ><strong>R.I.F Nº:</strong></td>
                      <td align="left" ><t t-esc="docs.doc_cedula(docs.partner_id.id)"/></td>

                     <td  align="right"><strong>Orden de Compra:</strong></td>
                    <td  align="right"><t t-esc="docs.buys_name"/></td> 
                     
                  </tr>

                   <tr style="font-size:15px;">
                         <td align="left" ><strong>Teléfonos:</strong></td>
                        <td align="left" ><t t-esc="docs.partner_id.phone"/></td>

                     
                      <td  align="right"><strong>Nota de Entrega:</strong></td>
                      <td  align="right"><t t-esc="docs.invoice_origin"/></td>
                   

                     
                   
                  </tr>

                  <tr style="font-size:15px;">
                      <td  align="left"><strong>E-mail:</strong></td>
                      <td  align="left"><t t-esc="docs.partner_id.email"/></td> 

                  
                   
                  </tr>

                  <tr style="font-size:15px;">
                      <td  align="left"><strong>Esquema de Pago:</strong></td>
                      <td  align="left"><t t-esc="docs.invoice_payment_term_id.name"/></td> 

                  
                   
                  </tr>



                  <tr style="font-size:15px;">
                   
                       <td align="left"><strong>Dirección Fiscal:</strong></td>
                       <td align="left" ><t t-esc="docs.partner_id.street"/>;<t t-esc="docs.partner_id.street2"/></td>
                  </tr>
              </t>


                   <!--formato nota de debito  -->
                 <t t-elif="docs.move_type== 'out_receipt' ">

                   <tr style="font-size:15px;">
                      <td colspan="4" align="right"><strong>Nota de Debito:&amp;nbsp;<t t-esc="docs.invoice_number_next"/></strong></td>
                      
                    
                  </tr> 

                 <tr style="font-size:15px;">
                      <td colspan="4" align="right"><strong>Factura Afectada nº:&amp;nbsp;<t t-esc="docs.reason"/></strong></td>
                    
                  </tr> 
                  <br/>


                  <tr style="font-size:15px;" height="20%">
                      <td align="left" ><strong>Paracotos :</strong></td>
                      <td  align="left" ><t t-esc="docs.formato_fecha(docs.invoice_date)"/></td>

                      <td  align="right"><strong>Caracas Telfn:</strong></td>
                      <td  align="right"><t t-esc="docs.company_id.phone"/></td>
                    
                  </tr> 

                   <tr style="font-size:15px;">
                       <td align="left" ><strong>Señores :</strong></td>
                      <td  align="left" ><t t-esc="docs.partner_id.name"/></td>

                      <td  align="right"><strong>E-mail:</strong></td>
                      <td  align="right"><t t-esc="docs.company_id.email"/></td>
    
    
                  </tr> 

                  <tr style="font-size:15px;">
                    <td align="left" ><strong>R.I.F Nº:</strong></td>
                    <td align="left" ><t t-esc="docs.doc_cedula(docs.partner_id.id)"/></td>

                    <td  align="right"><strong>Orden de Compra:</strong></td>
                    <td  align="right"><t t-esc="docs.buys_name"/></td> 
                     
                  </tr>

                   <tr style="font-size:15px;">
                        <td align="left" ><strong>Teléfonos:</strong></td>
                        <td align="left" ><t t-esc="docs.partner_id.phone"/></td>

                     
                      <td  align="right"><strong>Nota de Entrega:</strong></td>
                      <td  align="right"><t t-esc="docs.invoice_origin"/></td>
                   
                     
                   
                  </tr>

                <tr style="font-size:15px;">
                      <td  align="left"><strong>E-mail:</strong></td>
                      <td  align="left"><t t-esc="docs.partner_id.email"/></td> 

                  
                   
                  </tr>

                  <tr style="font-size:15px;">
                      <td  align="left"><strong>Esquema de Pago:</strong></td>
                      <td  align="left"><t t-esc="docs.invoice_payment_term_id.name"/></td> 

                  
                   
                  </tr>



                  <tr style="font-size:15px;">
                   
                       <td align="left"><strong>Dirección Fiscal:</strong></td>
                       <td align="left" ><t t-esc="docs.partner_id.street"/>;<t t-esc="docs.partner_id.street2"/></td>
                  </tr>
              </t>

            </tr>
         

        

                    <t t-set="acum_alicuota_general" t-value="0"/>
                    <t t-set="acum_alicuota_exento" t-value="0"/>
              <table class="table table-borderless table-sm" style="margin-top:5px;">
                      <thead class="bordeAbajo bordeArriba">
                        <tr  style="font-size:15px;" >
                    
                        
                            <td align="left" ><strong>Descripción</strong></td>
                            <td align="right"><strong>Cantidad</strong></td>
                            <td align="right"><strong>Precio Millar</strong></td>
                            <td align="right"><strong>Total</strong></td>
                        </tr>
                      </thead>
                      <tbody>
                          <t t-foreach="docs.invoice_line_ids" t-as="line">
                              <tr  style="font-size:15px;">
                                
                                <td><div align="left"><t t-esc="line.product_id.name"/></div></td>
                                <td><div align="right"><t t-esc="int(line.quantity)"/></div></td>
                          
                                 <t t-if="docs.currency_id.symbol == 'Bs.'">
                                <td><div align="right"><t t-esc="line.mile_price" t-options='{"widget": "float", "precision": 2}' /></div></td>
                                 </t>

                                 <t t-if="docs.currency_id.symbol != 'Bs.'">
                                <td><div align="right"><t t-esc="line.mile_price_usd" t-options='{"widget": "float", "precision": 2}'/></div></td>
                                 </t>



                                <td><div align="right"><t t-esc="line.price_subtotal" t-options='{"widget": "float", "precision": 2}'/></div></td>

                             
                              </tr>
                              <t t-if="line.tax_ids.aliquot == 'general'">
                                <t t-set="acum_alicuota_general" t-value="acum_alicuota_general + line.price_subtotal"/>
                              </t>
                               <t t-elif="line.tax_ids.aliquot == 'exento'">
                                       <t t-set="acum_alicuota_exento" t-value="acum_alicuota_exento + line.price_subtotal"/>
                              </t>

                          </t>
                      </tbody>
                     </table>

              </table>
              </div> 

                            <t t-set="acum_subtotal_retention" t-value="0"/>
                             <t t-set="acum_retention_iva" t-value="0"/>
                             <t t-set="acum_retention_islr" t-value="0"/>



<br/>
<br/>
  <!--footer para Bs -->
<t t-if="docs.currency_id.name == 'Bs.'">
 <div class="container"  style="margin-top:5px; page-break-inside: avoid;">
  <div class="bordeArriba">
  <br/>
<table width="100%"  height="100"> <!-- class="table table-bordered" -->
  <tr>
    <td width="55%" align="left">
      <!-- tabla 1 -->
      <br/>
      <table  height="100">
        <tr height="100">
          <td style="font-size:14px "  align="left" height="100">
          <br/>  OBSERVACIONES:&amp;nbsp;<t t-esc="docs.nota"/>
            <br/>
        
            <br/>

            <span style="font-size:14px"></span>
          </td>
        </tr>
      </table>
      <!-- fin tabla 1 -->
    </td>
    <td align="left">
      <!-- tabla 2 -->

    <table  width="100%" height="20"> <!-- class="table table-bordered" -->

        <tr style="font-size:14px">
                 <td><div align="right" ><strong>Total Neto Bs:</strong></div></td>
                <td><div align="right" >&amp;nbsp;<t t-esc="docs.float_format(docs.total_lineas_org)"/></div></td>       
         </tr>
         <!--   area deimpuestos -->

       

         <!-- fin area de impuestos -->
           <tr style="font-size:14px">

                
                 <td><div align="right" ><strong>Base Imponible Bs:</strong></div></td>
                 <td><div align="right" >&amp;nbsp;<t t-esc="docs.float_format(docs.base_imponible_org)"/></div></td>  
                
          </tr>


         <tr style="font-size:14px">
          
                 <td ><div align="right" ><strong>Impuesto al valor Agregado (I.V.A 16%)Bs:</strong></div>
                 </td>
                 <td><div align="right" >&amp;nbsp;<t t-esc="docs.float_format(docs.total_impuesto_org)"/></div></td>  
                
              
          </tr>



           <tr style="font-size:14px">
                
                 <td><div align="right" ><strong>Monto en Divisa Bs:</strong></div></td>
                 <td><div align="right" >&amp;nbsp;<t t-esc="docs.float_format(docs.pago_divisa)"/></div></td>  
                

           </tr>


          <tr style="font-size:14px">
             
              <td><div align="right" ><strong>I.G.T.F Bs:</strong></div></td>
              <td><div align="right" >&amp;nbsp;<samp style="text-decoration: underline;"><t t-esc="docs.float_format(docs.impuesto_igtf)"/></samp></div></td>  
               


          </tr>



       <tr style="font-size:14px">
             
                 <td><div align="right" ><strong>Total a Pagar Bs:</strong></div></td>
                 <td><div align="right" >&amp;nbsp;<t t-esc="docs.float_format(docs.total_pagar)"/></div></td> 

       </tr>

      

</table>
      <!-- fin tabla 2-->
    </td>
  </tr>
</table>

  <br/>
      <br/>
      <table width="100%">

          <tr style="font-size:14px">  
            <td colspan="3"  ><strong>Son:&amp;nbsp;<t t-esc="docs.get_literal_amount(docs.total_pagar)"/></strong></td>
          </tr>

          <tr style="font-size:14px">
            <td><strong>La tenencia del original de esta factura no implica su cancelación, debe ser demostrada</strong></td>
          </tr>

      </table>

</div>
</div>
</t>



  <!-- footer de dolares -->
<t t-if="docs.currency_id.name == 'USD'">
<div class="container"  style="margin-top:5px; page-break-inside: avoid;">
<tr style="font-size:14px" >
  <td><strong>&amp;nbsp;Si el pago se Efectua en Bs.Tomar la tasa actual del Dia de la Transferencia(BCV)</strong></td>                 
</tr>
  <div class="bordeArriba">
  <br/>
<table width="100%"  height="100"> <!-- class="table table-bordered" -->

          <tr style="font-size:14px" >
                 <td><div align="left" ><strong>Tipo de Cambio:</strong></div></td>
                <td><div align="left" >&amp;nbsp;<t t-esc="docs.os_currency_rate"/>&amp;nbsp;/USD</div></td>       
         </tr>
          <tr style="font-size:14px" >
              <td><div align="left" ><strong>Total Neto Bs:</strong></div></td>
              <td><div align="left" >&amp;nbsp;<samp style="text-decoration: underline;"><t t-esc="docs.float_format(docs.total_lineas_eq)"/></samp></div></td>   

              <td><div align="right" ><strong>Total Neto USD:</strong></div></td>
              <td><div align="right" >&amp;nbsp;<t t-esc="docs.float_format(docs.total_lineas_org)"/></div></td> 

         </tr>
         <!--   area deimpuestos -->

       

         <!-- fin area de impuestos -->
           <tr style="font-size:14px">

                
                 <td><div align="left" ><strong>Base Imponible Bs:</strong></div></td>
                 <td><div align="left" >&amp;nbsp;<t t-esc="docs.float_format(docs.base_imponible_eq)"/></div></td>  
                
                 <td><div align="right" ><strong>Base Imponible USD:</strong></div></td>
                 <td><div align="right" >&amp;nbsp;<t t-esc="docs.float_format(docs.base_imponible_org)"/></div></td>  



          </tr>


         <tr style="font-size:14px">
          
                 <td ><div align="left" ><strong>Impuesto al valor Agregado (I.V.A 16%)Bs:</strong></div>
                 </td>
                 <td><div align="left" >&amp;nbsp;<t t-esc="docs.float_format(docs.total_impuesto_eq)"/></div></td>  
                


                 <td ><div align="right" ><strong>Impuesto al valor Agregado (I.V.A 16%)USD:</strong></div>
                 </td>
                 <td><div align="right" >&amp;nbsp;<t t-esc="docs.float_format(docs.total_impuesto_org)"/></div></td> 
              
          </tr>



           <tr style="font-size:14px">
                
                 <td><div align="left" ><strong>Monto en Divisa Bs:</strong></div></td>
                 <td><div align="left" >&amp;nbsp;<t t-esc="docs.float_format(docs.pago_usd_eq)"/></div></td>  

                <td><div align="right" ><strong>Monto en Divisa USD:</strong></div></td>
                 <td><div align="right" >&amp;nbsp;<t t-esc="docs.float_format(docs.pago_divisa)"/></div></td>  
                

           </tr>


          <tr style="font-size:14px">
             
              <td><div align="left" ><strong>I.G.T.F Bs:</strong></div></td>
              <td><div align="left" >&amp;nbsp;<samp style="text-decoration: underline;"><t t-esc="docs.float_format(docs.impuesto_igtf_eq)"/></samp></div></td>  
              
              <td><div align="right" ><strong>I.G.T.F USD:</strong></div></td>
              <td><div align="right" >&amp;nbsp;<samp style="text-decoration: underline;"><t t-esc="docs.float_format(docs.impuesto_igtf)"/></samp></div></td>  


          </tr>



       <tr style="font-size:14px">
             
                 <td><div align="left" ><strong>Total a Pagar Bs:</strong></div></td>
                 <td><div align="left" >&amp;nbsp;<t t-esc="docs.float_format(docs.total_pagar_eq)"/></div></td> 

                <td><div align="right" ><strong>Total a Pagar USD :</strong></div></td>
                <td><div align="right" >&amp;nbsp;<t t-esc="docs.float_format(docs.total_pagar)"/></div></td> 

       </tr>

        
      </table>
      <br/>
      <br/>
      <table width="100%">

           <tr style="font-size:14px">  
            <td colspan="3"  ><strong>Son:&amp;nbsp;<t t-esc="docs.get_literal_amount(docs.total_pagar)"/></strong></td>
          </tr>
           <tr style="font-size:16px">
            <td><strong>En el cumplimiento con el Art.25 de la Ley de Impuesto al Valor Agregado, se establece la conversión del monto a Bolivares según tasa de cambio BCV.</strong></td>
          </tr>

      </table>
     
</div>
</div>
</t>


                </div> 
              </t>
            </t>
    </template>


    <report
            id="account_facturas"
            model="account.move"
            string="Factura/NC/ND"
            report_type="qweb-pdf"
            name="l10n_ve_formato_factura_nd_nc.report_invoice_with_payments_copy"
            file="l10n_ve_formato_factura_nd_nc.report_invoice_with_payments_copy"
            paperformat="l10n_ve_formato_factura_nd_nc.paperformat_forma_libre"
        />

  </data>
</odoo>