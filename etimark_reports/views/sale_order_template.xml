<?xml version='1.0' encoding='utf-8'?>
<odoo>
    <data>

        <record id="paperformat_presupuesto_venta_etimark" model="report.paperformat">
            <field name="default" eval="True"/>
            <field name="name">A4 Presupuesto (Ventas)</field>
            <field name="default" eval="True"/>
            <field name="format">custom</field>
            <field name="page_height">279</field>
            <field name="page_width">220</field>
            <field name="orientation">Portrait</field>
            <field name="margin_top">10</field>
            <field name="margin_bottom">65</field>
            <field name="margin_left">5</field>
            <field name="margin_right">5</field>
            <field name="header_line" eval="False"/>
            <field name="header_spacing">0</field>
            <field name="dpi">96</field>
        </record>

        <template id="report_etimark_sale_order_quotation_document_ve">
            <t t-call="web.html_container">
                <t t-call="web.basic_layout" t-lang="es_VE">
                    <div class="page">
                        <table width="100%" style="border-color:black;">
                            <tr>
                                <td align="left">
                                    <t t-if="docs.company_id.logo">  
                                        <img t-attf-src="data:image/*;base64,{{docs.company_id.logo}}" style="width:150px"/>
                                    </t>
                                </td>
                                <td colspan="4" align="right" style="font-size:17px; font-weight: bold;">Cotización:&amp;nbsp;<t t-esc="docs.quotation"/></td>
                            </tr>
                            <tr style="height:2cm;">
                                <td colspan="4" align="left" style="font-size:17px">Señor(es):&amp;nbsp;<t t-esc="docs.partner_id.name"/></td>
                                <td colspan="4" align="right" style="font-size:17px"><t t-esc="docs.company_id.city"/>, <t t-esc="docs.date_order"/></td>
                            </tr>
                            <tr style="height:1cm;">
                                <td colspan="4" align="left" style="font-size:17px">Atención:&amp;nbsp;<t t-esc="docs.team_id.name"/></td>
                            </tr>
                        </table>
                        <table class="table" style="border:0 !important; border-radius:5px; margin-top:2px;">
                            <tbody>
                                <tr>
                                    <td class="py-1 px-2 text-center" align="center" style="width:15%;border-top:solid 2px #000 !important;border-bottom:solid 0px #000 !important;border-left:solid 2px #000 !important;border-right:solid 2px #000 !important;font-size:.9rem; text-transform: uppercase; line-height:1rem; background-color:#9E9E9E, font-weight-bold">COTIZACIÓN</td>
                                </tr>
                            </tbody>
                        </table>
                        <table class="table table-bordered" style="width:100%; display:block; border:0 !important; border-radius:5px; margin:0px; border-color:black;">
                            <thead align="center">
                                <tr>
                                    <th colspan="2" class="py-1 px-2 text-center" align="center" style="width:15%;border-top:solid 2px #000 !important;border-bottom:solid 0px #000 !important;border-left:solid 0px #000 !important;border-right:solid 0px #000 !important;font-size:.9rem; line-height:1rem;">Código Etiqueta</th>
                                    <th colspan="2" class="py-1 px-2 text-center" align="center" style="width:15%;border-top:solid 2px #000 !important;border-bottom:solid 0px #000 !important;border-left:solid 0px #000 !important;border-right:solid 0px #000 !important;font-size:.9rem;  line-height:1rem;">Descripción</th>
                                    <th colspan="2" class="py-1 px-2 text-center" align="center" style="width:15%;border-top:solid 2px #000 !important;border-bottom:solid 0px #000 !important;border-left:solid 0px #000 !important;border-right:solid 0px #000 !important;font-size:.9rem;  line-height:1rem;">Medidas en cm</th>
                                    <th colspan="2" class="py-1 px-2 text-center" align="center" style="width:15%;border-top:solid 2px #000 !important;border-bottom:solid 0px #000 !important;border-left:solid 0px #000 !important;border-right:solid 0px #000 !important;font-size:.9rem;  line-height:1rem;">Materia Prima</th>
                                    <th colspan="2" class="py-1 px-2 text-center" align="center" style="width:15%;border-top:solid 2px #000 !important;border-bottom:solid 0px #000 !important;border-left:solid 0px #000 !important;border-right:solid 0px #000 !important;font-size:.9rem;  line-height:1rem;">Precio por millar</th>
                                    <th colspan="2" class="py-1 px-2 text-center" align="center" style="width:15%;border-top:solid 2px #000 !important;border-bottom:solid 0px #000 !important;border-left:solid 0px #000 !important;border-right:solid 0px #000 !important;font-size:.9rem;  line-height:1rem;">Precio Unidad</th>
                                    <th colspan="2" class="py-1 px-2 text-center" align="center" style="width:15%;border-top:solid 2px #000 !important;border-bottom:solid 0px #000 !important;border-left:solid 0px #000 !important;border-right:solid 0px #000 !important;font-size:.9rem;  line-height:1rem;">Cantidad</th>
                                    <th colspan="2" class="py-1 px-2 text-center" align="center" style="width:15%;border-top:solid 2px #000 !important;border-bottom:solid 0px #000 !important;border-left:solid 0px #000 !important;border-right:solid 0px #000 !important;font-size:.9rem;  line-height:1rem;">Total x Unds</th>
                                </tr>
                            </thead>
                            <tbody style="border:0 !important;">
                                        <t t-foreach="docs.order_line" t-as="line">
                                            <tr t-if="line.display_type not in ['line_section', 'line_note']">
                                                <t>
                                                    <th class="text-center" style="width:15%;font-size:.9rem;border-top:solid 0px #000 !important;border-bottom:solid 0px #000 !important;border-left:solid 0px #000 !important;border-right:solid 0px #000 !important"><span t-esc="line.product_id.default_code"/></th>
                                                    <th class="py-1" style="width:15%;font-size:.9rem;border-top:solid 0px #000 !important;border-bottom:solid 0px #000 !important;border-left:solid 0px #000 !important;border-right:solid 0px #000 !important"><span t-esc="line.product_id.name"/></th>
                                                    <th class="text-center" style="width:15%;font-size:.9rem;border-top:solid 0px #000 !important;border-bottom:solid 0px #000 !important;border-left:solid 0px #000 !important;border-right:solid 0px #000 !important"><span t-esc="line.product_id.measures_in_cm"/></th>
                                                    <th class="text-center" style="width:15%;font-size:.9rem;border-top:solid 0px #000 !important;border-bottom:solid 0px #000 !important;border-left:solid 0px #000 !important;border-right:solid 0px #000 !important"><span t-esc="line.product_id.raw_material"/></th>
                                                    <th class="text-center" style="width:15%;font-size:.9rem;border-top:solid 0px #000 !important;border-bottom:solid 0px #000 !important;border-left:solid 0px #000 !important;border-right:solid 0px #000 !important"><span t-esc="line.product_id.mile_price"/></th>
                                                    <th class="text-center" style="width:15%;font-size:.9rem;border-top:solid 0px #000 !important;border-bottom:solid 0px #000 !important;border-left:solid 0px #000 !important;border-right:solid 0px #000 !important"><span t-esc="line.price_unit_rate"/></th>
                                                    <th class="text-center" style="width:15%;font-size:.9rem;border-top:solid 0px #000 !important;border-bottom:solid 0px #000 !important;border-left:solid 0px #000 !important;border-right:solid 0px #000 !important"><span t-esc="line.product_uom_qty"/></th>
                                                    <th class="text-center" style="width:15%;font-size:.9rem;border-top:solid 0px #000 !important;border-bottom:solid 0px #000 !important;border-left:solid 0px #000 !important;border-right:solid 0px #000 !important"><span t-esc="line.total_price"/></th>
                                                </t>
                                            </tr>
                                            <tr t-if="line.display_type == 'line_note'">
                                                <td class="py-1" colspan="5" style="font-size:0.95rem;border-top:solid 0px #000 !important;border-bottom:solid 0px #000 !important;border-left:solid 0px #000 !important;border-right:solid 0px #000 !important">
                                                    <span t-field="line.name" style="white-space: pre-wrap;"/>
                                                </td>
                                            </tr>
                                        </t>
                                    </tbody>
                        </table>
                    </div>
                </t>
            </t>    
        </template>

        <record id="sale_order_etimark_cotizacion" model="ir.actions.report">
            <field name="name">Cotización de Venta</field>
            <field name="model">sale.order</field>
            <field name="report_type">qweb-pdf</field>
            <field name="report_name">etimark_reports.report_etimark_sale_order_quotation_document_ve</field>
            <field name="report_file">etimark_reports.report_etimark_sale_order_quotation_document_ve</field>
            <field name="binding_model_id" ref="model_sale_order"/>
            <field name="binding_type">report</field>
            <field name="paperformat_id" ref="etimark_reports.paperformat_presupuesto_venta_etimark"/>
        </record>
        
    </data>
</odoo>